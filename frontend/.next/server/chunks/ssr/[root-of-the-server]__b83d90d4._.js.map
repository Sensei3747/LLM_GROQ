{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/LLM/chatbot-groq/frontend/components/ChatUI.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Send, Bot, User, Loader2 } from 'lucide-react';\r\n\r\nexport default function ChatUI() {\r\n  const [input, setInput] = useState('');\r\n  const [messages, setMessages] = useState<{ role: string; content: string }[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Auto-scroll to bottom when messages change\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = { role: 'user', content: input };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const res = await axios.post('http://localhost:8000/chat', { prompt: input });\r\n      const botMessage = { role: 'assistant', content: res.data.response };\r\n      setMessages((prev) => [...prev, botMessage]);\r\n    } catch (err) {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { role: 'assistant', content: 'Error: Could not reach the server.' },\r\n      ]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-[80vh] bg-white rounded-lg shadow-lg\">\r\n      {/* Chat messages area */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n        {messages.length === 0 && (\r\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\r\n            <Bot size={48} className=\"mb-2\" />\r\n            <p>Start a conversation with the Groq chatbot!</p>\r\n          </div>\r\n        )}\r\n        \r\n        {messages.map((msg, idx) => (\r\n          <div \r\n            key={idx}\r\n            className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}\r\n          >\r\n            <div \r\n              className={`flex max-w-[80%] ${\r\n                msg.role === 'user' ? 'flex-row-reverse' : 'flex-row'\r\n              }`}\r\n            >\r\n              <div className={`flex items-center justify-center h-8 w-8 rounded-full ${\r\n                msg.role === 'user' ? 'bg-blue-500 ml-2' : 'bg-gray-600 mr-2'\r\n              }`}>\r\n                {msg.role === 'user' ? \r\n                  <User size={16} className=\"text-white\" /> : \r\n                  <Bot size={16} className=\"text-white\" />\r\n                }\r\n              </div>\r\n              <div \r\n                className={`p-3 rounded-lg ${\r\n                  msg.role === 'user' \r\n                    ? 'bg-blue-500 text-white rounded-tr-none'\r\n                    : 'bg-gray-100 rounded-tl-none'\r\n                }`}\r\n              >\r\n                <p className=\"whitespace-pre-wrap\">{msg.content}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        \r\n        {isLoading && (\r\n          <div className=\"flex justify-start\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex items-center justify-center h-8 w-8 rounded-full bg-gray-600 mr-2\">\r\n                <Bot size={16} className=\"text-white\" />\r\n              </div>\r\n              <div className=\"p-3 rounded-lg bg-gray-100 rounded-tl-none\">\r\n                <Loader2 className=\"h-5 w-5 animate-spin text-gray-500\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n      \r\n      {/* Input area */}\r\n      <div className=\"border-t p-4\">\r\n        <div className=\"flex items-center bg-gray-100 rounded-lg px-3 py-2\">\r\n          <input\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            onKeyDown={(e) => e.key === 'Enter' && sendMessage()}\r\n            className=\"flex-1 bg-transparent outline-none placeholder-gray-400\"\r\n            placeholder=\"Type your message...\"\r\n          />\r\n          <button \r\n            onClick={sendMessage}\r\n            disabled={!input.trim() || isLoading}\r\n            className={`ml-2 p-2 rounded-full ${\r\n              !input.trim() || isLoading\r\n                ? 'bg-gray-300 text-gray-500'\r\n                : 'bg-blue-500 text-white hover:bg-blue-600'\r\n            } transition-colors`}\r\n          >\r\n            {isLoading ? (\r\n              <Loader2 className=\"h-5 w-5 animate-spin\" />\r\n            ) : (\r\n              <Send size={18} />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}